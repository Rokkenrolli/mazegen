(this.webpackJsonpmazegen=this.webpackJsonpmazegen||[]).push([[0],{11:function(t,e,n){"use strict";n.r(e);var o,r=n(0),a=n(1),c=n(5),i=n.n(c),l=(n(4),n(2)),s=function(t,e,n,o){var r=function(e,r,a){var c=a||0;t.fillStyle=r,t.fillRect(e.pos.x,e.pos.y,n-c,o-c)};e.forEach((function(e){return e.forEach((function(e){e.start?r(e,"orange"):e.end?r(e,"#04fca4"):e.next?r(e,"blue"):e.onPath?r(e,"#85bbb6"):e.solved?r(e,"#8abb85"):e.visited?r(e,"white"):r(e,"#b678bd"),function(e){var r={x:e.pos.x,y:e.pos.y},a={x:e.pos.x,y:e.pos.y+o},c={x:e.pos.x+n,y:e.pos.y},i={x:e.pos.x+n,y:e.pos.y+o},l=function(e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.strokeStyle="black",t.stroke()};e.bottomWall&&l(a,i),e.leftWall&&l(r,a),e.rightWall&&l(c,i),e.topWall&&l(r,c)}(e),m&&function(e){var r={x:e.pos.x+n/2,y:e.pos.y+o/2};if(e.pred){var a={x:e.pred.pos.x+n/2,y:e.pred.pos.y+o/2};t.beginPath(),t.strokeStyle="green",t.moveTo(r.x,r.y),t.lineTo(a.x,a.y),t.stroke()}}(e)}))}))};!function(t){t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right"}(o||(o={}));var u=function(t,e,n,o,r){var a=e.row,c=e.col,i=[];return a>0&&i.push(t[c][a-1]),c>0&&i.push(t[c-1][a]),a<o-1&&i.push(t[c][a+1]),c<n-1&&i.push(t[c+1][a]),0===i.length?[]:i.filter((function(t){return r?!t.solved:!t.visited}))},f=function(t,e){var n=t.row-e.row,r=t.col-e.col;return n<0?o.Down:n>0?o.Up:r<0?o.Right:r>0?o.Left:void 0},h=function(t,e){var n;return t.forEach((function(t){t.forEach((function(t){(e?t.start:t.end)&&(n=t)}))})),n},d=function(t,e,n,o){var r=function(t,e,n){var o=[];return t.forEach((function(t){t.forEach((function(t){0!==t.row&&t.row!==n-1&&0!==t.col&&t.col!==e-1||o.push(t)}))})),o}(t,e,n),a=r[Math.floor(Math.random()*r.length)];o?a.start=!0:a.end=!0,o&&(a.visited=!0)},v=function(t,e,n,r,a,c){var i=h(e,!0);if(i){var l=[i],d=i,v=void 0;window.requestAnimationFrame((function i(){if(l.length){if(window.requestAnimationFrame(i),!d)return;d.next=!1,d.visited=!0;var h=u(e,d,n,r);h.length?((v=h[Math.floor(Math.random()*h.length)]).pred=d,v.next=!0,function(t,e){var n=f(t,e);n===o.Up&&(t.topWall=!1,e.bottomWall=!1),n===o.Down&&(t.bottomWall=!1,e.topWall=!1),n===o.Left&&(t.leftWall=!1,e.rightWall=!1),n===o.Right&&(t.rightWall=!1,e.leftWall=!1)}(d,v),l.push(d=v)):d=l.pop()}t.clearRect(0,0,p,j),s(t,e,a,c)}))}},b=function(t,e,n,r,a,c,i){var l=h(e,!0);if(l){var d=[l],v=!1;window.requestAnimationFrame((function l(){if(d.length){v||window.requestAnimationFrame(l);var b=d.shift();if(console.log(b),!b)return!1;if(b.solved=!0,b.end)return v=!0,function(t,e,n,o,r){var a=h(e,!0),c=h(e,!1);if(a&&c){var i=c;(n=[]).push(a),a.onPath=!0,window.requestAnimationFrame((function a(){i.pred&&(window.requestAnimationFrame(a),n.push(i),i.onPath=!0,i=i.pred),s(t,e,o,r)}))}}(t,e,n,c,i),e.forEach((function(t){return t.forEach((function(t){return t.solved=!1}))})),b;console.log(e);var m=u(e,b,r,a,!0);console.log(m);var x=function(t,e){return e.filter((function(e){switch(f(t,e)){case o.Up:return!(t.topWall&&e.bottomWall);case o.Down:return!(t.bottomWall&&e.topWall);case o.Left:return!(t.leftWall&&e.rightWall);case o.Right:return!(t.rightWall&&e.leftWall)}return!1}))}(b,m);console.log(x),x.forEach((function(t){t.solved||d.push(t)}))}t.clearRect(0,0,p,j),s(t,e,c,i)}))}},p=.8*window.innerWidth,j=.8*window.innerHeight,m=!1,x=function(){var t=Object(a.useRef)(null),e=Object(a.useState)(20),n=Object(l.a)(e,2),o=n[0],c=n[1],i=Object(a.useState)(40),u=Object(l.a)(i,2),f=u[0],h=u[1],x=Object(a.useState)(p/f),g=Object(l.a)(x,2),w=g[0],O=g[1],W=Object(a.useState)(j/o),y=Object(l.a)(W,2),S=y[0],k=y[1],C=Object(a.useState)(!1),E=Object(l.a)(C,2),N=E[0],R=E[1],F=Object(a.useState)(0),q=Object(l.a)(F,2),z=q[0],A=q[1],M=[],P=[];return Object(a.useEffect)((function(){if(t.current){var e=t.current.getContext("2d");e&&function(t){P=[],t.clearRect(0,0,p,j);for(var e=0;e<f;e++){for(var n=[],r=0;r<o;r++)n.push({leftWall:!0,topWall:!0,rightWall:!0,bottomWall:!0,pos:{x:e*w,y:r*S},visited:!1,row:r,col:e,next:!1,pred:void 0,start:!1,end:!1,solved:!1,onPath:!1});P.push(n)}if(N)d(P,f,o,!0),d(P,f,o,!1);else{var a=P[0][0];a.start=!0,a.visited=!0,P[f-1][o-1].end=!0}s(t,P,w,S)}(e)}})),Object(r.jsxs)("div",{className:"canvasContainer",children:[Object(r.jsxs)("div",{className:"buttons",children:[Object(r.jsx)("button",{className:"generator",onClick:function(){return function(){if(t.current){var e=t.current.getContext("2d");e&&v(e,P,f,o,w,S)}}()},children:"Generate Maze"}),Object(r.jsx)("button",{className:"solver",onClick:function(){return function(){if(t.current){var e=t.current.getContext("2d");e&&b(e,P,M,f,o,w,S)}}()},children:"Solve maze"}),Object(r.jsx)("button",{className:"lines",onClick:function(){return function(){if(t.current){var e=t.current.getContext("2d");e&&(m=!m,s(e,P,w,S))}}()},children:"Show lines"}),Object(r.jsx)("button",{onClick:function(){return R(!N)},children:N?"Set static locations":"Set randomized locations"}),N&&Object(r.jsx)("button",{onClick:function(){A(z+1)},children:"Reroll"}),N&&Object(r.jsx)("p",{children:"You have rerolled ".concat(z," ").concat(1===z?"time":"times")})]}),Object(r.jsxs)("div",{className:"sliders",children:[Object(r.jsx)("input",{id:"colSlider",type:"range",min:1,onChange:function(t){h(Number(t.target.value)),c(o),k(j/o),O(p/f)},value:f,step:1}),Object(r.jsx)("label",{htmlFor:"colSlider",children:"columns: ".concat(f)}),Object(r.jsx)("input",{id:"rowSlider",type:"range",min:1,onChange:function(t){c(Number(t.target.value)),h(f),k(j/o),O(p/f)},value:o,step:1}),Object(r.jsx)("label",{htmlFor:"rowSlider",children:"rows: ".concat(o)})]}),Object(r.jsx)("div",{children:Object(r.jsx)("canvas",{ref:t,className:"canvas",width:p,height:j})})]})},g=function(){return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{className:"header",children:"Maze Generator"})}),Object(r.jsx)(x,{})]})};i.a.render(Object(r.jsx)(g,{}),document.getElementById("root"))},4:function(t,e,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.fd3ea012.chunk.js.map